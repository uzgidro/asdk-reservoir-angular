<app-card-wrapper *ngIf="weatherDaily && weatherHourly; else loader">
    <app-card-header slot="header" *ngIf="displayTitle" [title]="reservoir?.name"></app-card-header>
  <div slot="body" class="flex flex-col space-y-8 justify-center">
    <div *ngIf="weatherCurrent" class="flex flex-row px-4 justify-between items-center">
        <div class="grid grid-cols-2 h-fit w-fit">
            <p class="text-6xl font-bold row-span-2 mr-2">
                {{ weatherCurrent.temp | number:'.0-0' }}&deg;
            </p>
            <p class="text-sm col-span-1">His qilinishi</p>
            <p class="text-2xl font-medium">
                {{ weatherCurrent.tempFeelsLike | number:'.0-0' }}&deg;
            </p>
        </div>
        <img ngSrc="{{weatherCurrent.weatherIcon}}"
             alt="{{weatherCurrent.weatherDescription}}"
             width="100"
             height="100"
        >
  </div>

    <div class="flex flex-row justify-between w-full">
        <table>
            <tbody>
            <tr *ngFor="let item of weatherDaily">
                <td class="text-left p-0 text-xl">{{ item.date | date:'cccc' | uzbDatePipe }}</td>
            </tr>
            </tbody>
        </table>
        <table>
            <tbody>
            <tr *ngFor="let item of weatherDaily">
                <td class="p-0">
                    <div class="flex flex-row justify-end items-center">
                        <img ngSrc="{{item.dayIcon}}" alt="{{item.dayIconDescription}}"
                             width="30"
                             height="30"
                        >
                        <p>/</p>
                        <img ngSrc="{{item.nightIcon}}" alt="{{item.nightIconDescription}}"
                             width="30"
                             height="30"
                        ></div>
                </td>
                <td class="p-0">
                    <div class="flex flex-row justify-end text-xl">
                        <p>{{ item.dayTemperature | number:'.0-0' }}&deg;/</p>
                        <p>{{ item.nightTemperature | number:'.0-0' }}&deg;</p></div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

  <div *ngIf="weatherCurrent" class="grid grid-cols-2 gap-5 w-full">
    <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2">
      <div class="flex flex-row space-x-2">
        <span class="material-symbols-outlined">cloud</span>
          <p>Bulutlik</p>
      </div>
        <p>{{ weatherCurrent.clouds }}%</p>
    </div>
    <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2">
      <div class="flex flex-row space-x-2">
        <span class="material-symbols-outlined">humidity_percentage</span>
          <p>Namlik</p>
      </div>
        <p>{{ weatherCurrent.humidity }}</p>
    </div>
    <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2">
      <div class="flex flex-row space-x-2">
        <span class="material-symbols-outlined">air</span>
          <p>Shamol tezligi</p>
      </div>
      <div class="flex flex-row">
          <span class="material-symbols-outlined">{{ weatherCurrent.windDirection }}</span>
          <p>{{ weatherCurrent.windSpeed }} m/s</p>
      </div>
    </div>
    <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2">
      <div class="flex flex-row space-x-2">
        <span class="material-symbols-outlined">compress</span>
          <p>Bosim</p>
      </div>
        <p>{{ weatherCurrent.pressure }} mbar</p>
    </div>
  </div>
  </div>
</app-card-wrapper>

<ng-template #loader>
  <div class="p-4 flex flex-col items-center material-card">
    <app-loader size="lg"></app-loader>
  </div>

</ng-template>
