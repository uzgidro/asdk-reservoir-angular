<div *ngIf="reservoir; else loader" class="flex flex-col pb-16 px-14 h-full space-y-4">
  <app-card-header [title]="reservoir.name"></app-card-header>
  <div class="h-full grid grid-rows-12 grid-cols-12 gap-8 grid-flow-col">
    <!--  Current data  -->
    <app-card-wrapper class="col-span-3 row-span-3">
      <div slot="body" *ngIf="income && release && level && volume" class="grid grid-cols-2 gap-4 h-full">
        <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2 text-xl">
          <div class="flex flex-col space-y-2 justify-center items-start h-full">
            <p class="font-bold">Kelishi, m³/s</p>
            <p class="self-end text-3xl font-light">{{ income.value }} / <span
              [ngClass]="{'text-red-500': income.difference < 0, 'text-green-500': income.difference > 0}">{{ income.difference | number:'0.0-0' }}</span>
            </p>
          </div>
        </div>
        <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2 text-xl">
          <div class="flex flex-col space-y-2 justify-center items-start h-full">
            <p class="font-bold">Chiqishi, m³/s</p>
            <p class="self-end text-3xl font-light">{{ release.value }} / <span
              [ngClass]="{'text-red-500': release.difference < 0, 'text-green-500': release.difference > 0}">{{ release.difference | number:'0.0-0' }}</span>
            </p>
          </div>
        </div>
        <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2 text-xl">
          <div class="flex flex-col space-y-2 justify-center items-start h-full">
            <p class="font-bold">Sath, m</p>
            <p class="self-end text-3xl font-light">{{ level.value }} / <span
              [ngClass]="{'text-red-500': level.difference < 0, 'text-green-500': level.difference > 0}">{{ level.difference | number:'0.0-2' }}</span>
            </p>
          </div>
        </div>
        <div class="flex flex-col justify-start border border-gray-500 rounded-xl px-4 py-2 text-xl">
          <div class="flex flex-col space-y-2 justify-center items-start h-full">
            <p class="font-bold">Hajm, mln.m³</p>
            <p class="self-end text-3xl font-light">{{ volume.value }} / <span
              [ngClass]="{'text-red-500': volume.difference < 0, 'text-green-500': volume.difference > 0}">{{ volume.difference | number:'0.0-1' }}</span>
            </p>
          </div>
        </div>
      </div>
    </app-card-wrapper>
    <!--  /Current data  -->
    <!--  Weather  -->
    <app-weather-detailed class="col-span-3 row-span-5" *ngIf="reservoir" [reservoir]="reservoir"
                          [displayTitle]="false"></app-weather-detailed>
    <!--  /Weather  -->
    <!--  Snow cover  -->
    <app-card-wrapper *ngIf="snowImages.length > 0" class="col-span-2 row-span-4">
      <img slot="body" [src]="snowImages[0].url" alt="" class="h-full w-full">
    </app-card-wrapper>
    <!--  /Snow cover  -->
    <!--  Snow dynamics  -->
    <app-card-wrapper *ngIf="snowImages.length > 0" class="col-span-5 row-span-4">
      <img slot="body" [src]="snowImages[1].url" alt="" class="h-full w-full">
    </app-card-wrapper>
    <!--  /Snow dynamics  -->
    <!--  Analytics  -->
    <app-reservoir-analytics class="col-span-9 row-span-8"></app-reservoir-analytics>
    <!--  /Analytics  -->
    <!--  Snow chart  -->
    <app-card-wrapper class="col-span-5 row-span-4">
      <app-dashboard-snow-review slot="body" [reservoirId]="selectedReservoir"
                                 class="h-full w-full"></app-dashboard-snow-review>
    </app-card-wrapper>
    <!--  /Snow chart  -->
  </div>
</div>

<ng-template #loader>
  <app-loader [size]="'lg'"></app-loader>
</ng-template>
