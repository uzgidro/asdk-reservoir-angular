<table *ngIf="totalValues.length !== 0; else loader">
  <thead>
  <tr>
    <th rowspan="2">Suv omborlar</th>
    <th colspan="4">O'rtacha suv kelishi, mln.mÂ³</th>
    <th colspan="3">Foizdagi farq</th>
  </tr>
  <tr>
    <th><p>30 yil<br><small>{{ decade | date: 'dd.MM' }}</small></p></th>
    <th><p>10 yil<br><small>{{ decade | date: 'dd.MM' }}</small></p></th>
    <th><p>{{ pastYear }} yil<br><small>{{ decade | date: 'dd.MM' }}</small></p></th>
    <th><p>{{ currentYear }} yil<br><small>{{ decade | date: 'dd.MM' }}</small></p></th>
    <th>30 yil</th>
    <th>10 yil</th>
    <th>{{ pastYear }} yil</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let res of totalValues">
    <td>{{res.reservoir}}</td>
    <td>{{res.avg30}}<br><p class="difference">{{ res.decadeAvg30 | number:'.0-0' }}</p></td>
    <td>{{res.avg10}}<br><p class="difference">{{ res.decadeAvg10 | number:'.0-0' }}</p></td>
    <td>{{res.lastYear}}<br><p class="difference">{{ res.decadeLastYear | number:'.0-0' }}</p></td>
    <td class="bg-cyan-800">{{res.currentYear}}<br><p class="difference">{{ res.decadeCurrentYear | number:'.0-0' }}</p></td>
    <td>{{ res.avg30 !== 0 ? ((res.currentYear / res.avg30) * 100 | number: '.0-0') : '0' }}<br><p class="difference">{{ res.decadeAvg30 !== 0 ? ((res.decadeCurrentYear / res.decadeAvg30) * 100 | number: '.0-0') : '0' }}</p></td>
    <td>{{ res.avg10 !== 0 ? ((res.currentYear / res.avg10) * 100 | number: '.0-0') : '0' }}<br><p class="difference">{{ res.decadeAvg10 !== 0 ? ((res.decadeCurrentYear / res.decadeAvg10) * 100 | number: '.0-0') : '0' }}</p></td>
    <td>{{ (res.currentYear / res.lastYear) * 100 | number: '.0-0' }}<br><p class="difference">{{ (res.decadeCurrentYear / res.decadeLastYear) * 100 | number: '.0-0' }}</p></td>
  </tr>
  </tbody>
</table>

<ng-template #loader>
  <app-loader size="xl"></app-loader>
</ng-template>
