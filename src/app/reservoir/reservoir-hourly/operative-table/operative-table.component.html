<table *ngIf="operativeData.length > 0; else loader" [ngClass]="{'scale-y-150' : shortView}">
  <thead *ngIf="!shortView">
  <tr>
    <th rowspan="3">Suv omborlar nomi</th>
    <th rowspan="2" colspan="2">Suvning sathi, m</th>
    <th colspan="5">Suvning hajmi, mln.m³</th>
    <th colspan="6">Suvning kelishi, m³/s</th>
    <th colspan="5">Suvning chiqishi, m³/s</th>
  </tr>
  <tr>
    <th rowspan="2">{{ yesterday | date:'dd.MM' }}</th>
    <th rowspan="2">{{ today | date:'dd.MM' }}</th>
    <th colspan="3">O'tgan yillarda shu kunga</th>
    <th rowspan="2">{{ yesterday | date:'dd.MM' }}</th>
    <th rowspan="2">{{ today | date:'dd.MM' }}</th>
    <th rowspan="2">O'rt</th>
    <th colspan="3">O'tgan yillarda shu kunga</th>
    <th rowspan="2">{{ yesterday | date:'dd.MM' }}</th>
    <th rowspan="2">{{ today | date:'dd.MM' }}</th>
    <th colspan="3">O'tgan yillarda shu kunga</th>
  </tr>
  <tr>
    <th>{{ yesterday | date:'dd.MM' }}</th>
    <th>{{ today | date:'dd.MM' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
    <th>{{ beforePastYear | date:'yyyy' }}</th>
    <th>{{ beforeBeforePastYear | date:'yyyy' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
    <th>{{ beforePastYear | date:'yyyy' }}</th>
    <th>{{ beforeBeforePastYear | date:'yyyy' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
    <th>{{ beforePastYear | date:'yyyy' }}</th>
    <th>{{ beforeBeforePastYear | date:'yyyy' }}</th>
  </tr>
  </thead>
  <thead *ngIf="shortView">
  <tr>
    <th rowspan="2">Suv omborlar nomi</th>
    <th colspan="2">Suvning sathi, m</th>
    <th colspan="3">Suvning hajmi, mln.m³</th>
    <th colspan="3">Suvning kelishi, m³/s</th>
    <th colspan="3">Suvning chiqishi, m³/s</th>
  </tr>
  <tr>
    <th>{{ yesterday | date:'dd.MM' }}</th>
    <th>{{ today | date:'dd.MM' }}</th>
    <th>{{ yesterday | date:'dd.MM' }}</th>
    <th>{{ today | date:'dd.MM' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
    <th>{{ yesterday | date:'dd.MM' }}</th>
    <th>{{ today | date:'dd.MM' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
    <th>{{ yesterday | date:'dd.MM' }}</th>
    <th>{{ today | date:'dd.MM' }}</th>
    <th>{{ pastYear | date:'yyyy' }}</th>
  </tr>
  </thead>
  <tbody>
  <ng-container *ngFor="let data of operativeData; let i = index">
    <tr>
      <td class="text-lg" rowspan="2">{{ data.name }}</td>
      <td>{{ data.level[2].value | number:'0.0-2' }}</td>
      <td>{{ data.level[0].value | number:'0.0-2' }}</td>
      <td>{{ data.volume[2].value | number:'0.0-1' }}</td>
      <td>{{ data.volume[0].value | number:'0.0-1' }}</td>
      <td>{{ data.volume[3].value | number:'0.0-1' }}</td>
      <td *ngIf="!shortView">{{ data.volume[4].value | number:'0.0-1' }}</td>
      <td *ngIf="!shortView">{{ data.volume[5].value | number:'0.0-1' }}</td>
      <td>{{ data.income[2].value | number:'0.0-0' }}</td>
      <td>{{ data.income[0].value | number:'0.0-0' }}</td>
      <td *ngIf="!shortView">{{ (data.income[0].value + data.income[0].value) / 2 | number:'0.0-0' }}</td>
      <td>{{ data.income[3].value | number:'0.0-0' }}</td>
      <td *ngIf="!shortView">{{ data.income[4].value | number:'0.0-0' }}</td>
      <td *ngIf="!shortView">{{ data.income[5].value | number:'0.0-0' }}</td>
      <td>{{ data.release[2].value | number:'0.0-0' }}</td>
      <td>{{ data.release[0].value | number:'0.0-0' }}</td>
      <td>{{ data.release[3].value | number:'0.0-0' }}</td>
      <td *ngIf="!shortView">{{ data.release[4].value | number:'0.0-0' }}</td>
      <td *ngIf="!shortView">{{ data.release[5].value | number:'0.0-0' }}</td>
    </tr>
    <tr class="difference">
      <td class="bg-cyan-800">{{ data.level[2].value - data.level[1].value | number:'0.0-2' | difference }}</td>
      <td class="bg-cyan-800">{{ data.level[0].value - data.level[2].value | number:'0.0-2' | difference }}</td>
      <td class="bg-cyan-800">{{ data.volume[2].value - data.volume[1].value | number:'0.0-1' | difference }}</td>
      <td class="bg-cyan-800">{{ data.volume[0].value - data.volume[2].value | number:'0.0-1' | difference }}</td>
      <td class="bg-cyan-800">{{ data.volume[0].value - data.volume[3].value | number:'0.0-1' | difference }}</td>
      <td class="bg-cyan-800" *ngIf="!shortView">{{ data.volume[0].value - data.volume[4].value | number:'0.0-1' | difference }}
      </td>
      <td class="bg-cyan-800" *ngIf="!shortView">{{ data.volume[0].value - data.volume[5].value | number:'0.0-1' | difference }}
      </td>
      <td class="bg-cyan-800">{{ data.income[2].value - data.income[0].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800">{{ data.income[0].value - data.income[2].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800" *ngIf="!shortView"></td>
      <td class="bg-cyan-800">{{ data.income[0].value - data.income[3].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800" *ngIf="!shortView">{{ data.income[0].value - data.income[4].value | number:'0.0-0' | difference }}
      </td>
      <td class="bg-cyan-800" *ngIf="!shortView">{{ data.income[0].value - data.income[5].value | number:'0.0-0' | difference }}
      </td>
      <td class="bg-cyan-800">{{ data.release[2].value - data.release[1].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800">{{ data.release[0].value - data.release[2].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800">{{ data.release[0].value - data.release[3].value | number:'0.0-0' | difference }}</td>
      <td class="bg-cyan-800" *ngIf="!shortView"
      >{{ data.release[0].value - data.release[4].value | number:'0.0-0' | difference }}
      </td>
      <td class="bg-cyan-800" *ngIf="!shortView"
      >{{ data.release[0].value - data.release[5].value | number:'0.0-0' | difference }}
      </td>
    </tr>
  </ng-container>
  </tbody>
</table>

<ng-template #loader>
  <app-loader [size]="'xl'"></app-loader>
</ng-template>
